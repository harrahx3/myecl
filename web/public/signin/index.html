<!DOCTYPE html>
<html lang="fr">

<head>
	<meta charset="utf-8" />
	<title>MyECL - Connexion</title>

	<link rel="shortcut icon" type="image/x-icon" href="/commons/img/favicon.png" />

	<link rel="stylesheet" type="text/css" href="/commons/css/graphics.css" />
	<link rel="stylesheet" type="text/css" href="/commons/css/bootstrap.css" />
	<link rel="stylesheet" type="text/css" href="/commons/css/kingadmin.css" />

	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/"
	 crossorigin="anonymous" />

	<link rel="stylesheet" type="text/css" href="/signin/style.css" />
</head>

<body onload="getError()">
	<div class="container">
		<div class="row">
			<div id="connexion" class="col-xs-4 col-xs-offset-4">
				<div id="connexion-header">MyECL</div>

				<div id="form-connect">
					<form class="form-horizontal" role="form" method="POST" action="/signin">
						<div id="login-input" class="form-group">
							<label for="login" class="control-label sr-only">Login</label>
							<div class="col-sm-12">
								<div class="input-group">
									<input type="text" id="login" name="login" placeholder="Login" class="form-control" />
									<span class="input-group-addon"><i class="fa fa-user"></i></span>
								</div>
							</div>
						</div>

						<div id="password-input" class="form-group">
							<label for="password" class="control-label sr-only">Mot de passe</label>
							<div class="col-sm-12">
								<div class="input-group">
									<input type="password" id="password" name="password" placeholder="Mot de passe" class="form-control" />
									<span class="input-group-addon"><i class="fa fa-lock"></i></span>
								</div>
							</div>
						</div>

						<div id="error-message" class="col-sm-12"></div>

						<div class="form-group">
							<div class="col-sm-12">
								<button type="submit" class="btn btn-default center-block">
									Se connecter
								</button>
							</div>
						</div>
					</form>

					<legend>Première connexion ?</legend>
					<a href="/signup">
						<button class="btn btn-default center-block" id="inscription">
							Elève de l'ECL
						</button>
					</a>
					Plus à l'école ? Envoyez nous un mail pour confirmer votre statut de
					centralien à l'adresse
					<a mailto="bureau-eclair@listes.ec-lyon.fr">bureau-eclair@listes.ec-lyon.fr</a>
				</div>
			</div>
		</div>
	</div>

	<!-- Javascript import -->
	<script src="/commons/js/jquery-2.1.0.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
	<script src="/commons/js/king-bootstrap.js"></script>
	<script src="/commons/js/modernizr.js"></script>
	<script src="/commons/js/bootstrap-tour.js"></script>
	<script src="/commons/js/slimscroll.js"></script>
	<script src="/commons/js/king-common.js"></script>

	<!-- Javascript custom -->
	<script>
		function getError() {
			var errorCode = parseInt(
				new URL(window.location.toString()).searchParams.get("invalid")
			);
			var message = "";
			switch (errorCode) {
				case 0:
					document.getElementById("login-input").classList.add("has-error");
					message += "Login introuvable";
					break;
				case 1:
					document
						.getElementById("password-input")
						.classList.add("has-error");
					message += "Mot de passe incorrect";
					break;
				default:
					break;
			}
			if (message) {
				document.getElementById("error-message").innerHTML =
					"<div class='alert alert-danger' role='alert'>" +
					message +
					"</div>";
			}
		}
	</script>
</body>

</html>